name: ğŸ“± Mobile-Optimized Build with Advanced Diagnostics

# Ù…ÙØ­Ø³Ù† Ù„Ù„ØªØ·ÙˆÙŠØ± Ù…Ù† Ø§Ù„Ù‡Ø§ØªÙ - ÙŠØ¯Ø¹Ù… ÙØ±ÙˆØ¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆÙŠÙˆÙØ± ØªØ´Ø®ÙŠØµ Ø´Ø§Ù…Ù„
on:
  push:
    branches: [ main, develop, test-*, fix-* ]  # Ø¯Ø¹Ù… ÙØ±ÙˆØ¹ Ø§Ù„ØªØ·ÙˆÙŠØ± ÙˆØ§Ù„Ø§Ø®ØªØ¨Ø§Ø±
  pull_request:
    branches: [ main, develop ]
  workflow_dispatch:  # ØªØ´ØºÙŠÙ„ ÙŠØ¯ÙˆÙŠ Ù…Ù† ÙˆØ§Ø¬Ù‡Ø© GitHub

# Ù…ØªØºÙŠØ±Ø§Øª Ø¹Ø§Ù…Ø© Ù„Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø³Ù„ÙˆÙƒ Ø§Ù„Ù€ workflow
env:
  GRADLE_VERSION: 8.14.3
  GRADLE_USER_HOME: ${{ github.workspace }}/.gradle
  # ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ´Ø®ÙŠØµ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… - ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„Ù‡ Ø¥Ù„Ù‰ false Ù„ØªØ³Ø±ÙŠØ¹ Ø§Ù„Ø¨Ù†Ø§Ø¡
  ENABLE_ADVANCED_DIAGNOSTICS: true

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ¦Ø© ÙˆØ§Ù„ÙØ­Øµ Ø§Ù„Ø£ÙˆÙ„ÙŠ
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    - name: ğŸ“¥ Checkout Repository
      uses: actions/checkout@v5
      with:
        # ØªØ­Ù…ÙŠÙ„ ÙƒØ§Ù…Ù„ Ù„Ù„ØªØ§Ø±ÙŠØ® Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø£ÙØ¶Ù„ Ø¹Ù† Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
        fetch-depth: 0

    - name: â˜• Set up JDK 17
      uses: actions/setup-java@v5
      with:
        distribution: 'temurin'
        java-version: '17'

    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø§Ù„ØªØ´Ø®ÙŠØµ Ø§Ù„Ø£ÙˆÙ„ÙŠ Ù„ÙÙ‡Ù… Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    - name: ğŸ” Initial Project Health Check
      run: |
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ¥ ÙØ­Øµ ØµØ­Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ - Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        
        # ÙØ­Øµ Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
        echo "ğŸ“‚ Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹:"
        echo "Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø¬Ø°Ø±ÙŠØ©:"
        ls -la | head -10
        echo ""
        
        # ÙØ­Øµ ÙˆØ¬ÙˆØ¯ Ù…Ù„ÙØ§Øª Android Ø§Ù„Ù…Ù‡Ù…Ø©
        echo "ğŸ¤– ÙØ­Øµ Ù…Ù„ÙØ§Øª Android Ø§Ù„Ù…Ù‡Ù…Ø©:"
        
        files_to_check=(
          "app/build.gradle"
          "app/src/main/AndroidManifest.xml"
          "app/src/main/res/layout/activity_main.xml"
          "gradle.properties"
          "settings.gradle"
        )
        
        for file in "${files_to_check[@]}"; do
          if [ -f "$file" ]; then
            echo "âœ… $file Ù…ÙˆØ¬ÙˆØ¯ (Ø­Ø¬Ù…: $(stat -f%z "$file" 2>/dev/null || stat -c%s "$file") Ø¨Ø§ÙŠØª)"
          else
            echo "âŒ $file ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯!"
          fi
        done
        
        # ÙØ­Øµ Ø­Ø§Ù„Ø© Gradle Wrapper Ø§Ù„Ø­Ø§Ù„ÙŠØ©
        echo ""
        echo "âš™ï¸ Ø­Ø§Ù„Ø© Gradle Wrapper Ø§Ù„Ø­Ø§Ù„ÙŠØ©:"
        if [ -f "gradlew" ]; then
          echo "âœ… gradlew Ù…ÙˆØ¬ÙˆØ¯"
          echo "ØµÙ„Ø§Ø­ÙŠØ§Øª gradlew: $(ls -l gradlew | cut -d' ' -f1)"
          if [ -x "gradlew" ]; then
            echo "âœ… gradlew Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªÙ†ÙÙŠØ°"
          else
            echo "âš ï¸ gradlew ØºÙŠØ± Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªÙ†ÙÙŠØ°"
          fi
        else
          echo "âŒ gradlew ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ - Ø³Ù†Ù‚ÙˆÙ… Ø¨Ø¥Ù†Ø´Ø§Ø¦Ù‡"
        fi
        
        if [ -f "gradle/wrapper/gradle-wrapper.properties" ]; then
          echo "âœ… gradle-wrapper.properties Ù…ÙˆØ¬ÙˆØ¯"
          echo "Ù†Ø³Ø®Ø© Gradle Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©:"
          grep "distributionUrl" gradle/wrapper/gradle-wrapper.properties || echo "Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ distributionUrl"
        else
          echo "âŒ gradle-wrapper.properties ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯"
        fi

    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: ÙØ­Øµ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø© ÙÙŠ activity_main.xml
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    - name: ğŸ” Deep Dive - XML Layout Analysis
      if: env.ENABLE_ADVANCED_DIAGNOSTICS == 'true'
      run: |
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ”¬ ØªØ­Ù„ÙŠÙ„ Ø¹Ù…ÙŠÙ‚ Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªØ®Ø·ÙŠØ·"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        
        # ÙØ­Øµ activity_main.xml Ø¨Ø§Ù„ØªÙØµÙŠÙ„
        layout_file="app/src/main/res/layout/activity_main.xml"
        if [ -f "$layout_file" ]; then
          echo "ğŸ“„ ØªØ­Ù„ÙŠÙ„ $layout_file:"
          echo "Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø·Ø±: $(wc -l < "$layout_file")"
          echo ""
          
          # Ø¹Ø±Ø¶ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ù…Ø´ÙƒÙˆÙƒ ÙÙŠÙ‡ (Ø­ÙˆÙ„ Ø§Ù„Ø³Ø·Ø± 26)
          echo "ğŸ¯ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø³Ø·ÙˆØ± 20-35 (Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø´ÙƒÙˆÙƒ ÙÙŠÙ‡Ø§):"
          sed -n '20,35p' "$layout_file" | nl -v20 -nln -w3 -s': '
          echo ""
          
          # Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø®Ø§ØµÙŠØ© Ø§Ù„Ù…Ø´ÙƒÙ„Ø©
          echo "ğŸ” Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† expandedTitleEnabled:"
          if grep -n "expandedTitleEnabled" "$layout_file"; then
            echo "ğŸš¨ ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ expandedTitleEnabled!"
            echo "Ø§Ù„Ø³ÙŠØ§Ù‚ Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù„Ø®Ø§ØµÙŠØ©:"
            grep -A2 -B2 "expandedTitleEnabled" "$layout_file" | nl
          else
            echo "âœ… Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ expandedTitleEnabled"
          fi
          
          # ÙØ­Øµ Ù…Ø³Ø§Ø­Ø§Øª Ø§Ù„Ø£Ø³Ù…Ø§Ø¡
          echo ""
          echo "ğŸ“ Ù…Ø³Ø§Ø­Ø§Øª Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©:"
          head -20 "$layout_file" | grep "xmlns" | nl
          
          # ÙØ­Øµ Ø§Ù„Ø®ØµØ§Ø¦Øµ Ø§Ù„Ù…Ø®ØµØµØ© Ø§Ù„Ø£Ø®Ø±Ù‰
          echo ""
          echo "ğŸ¨ Ø§Ù„Ø®ØµØ§Ø¦Øµ Ø§Ù„Ù…Ø®ØµØµØ© Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© (app:):"
          grep -n "app:" "$layout_file" | head -10 | nl
          
        else
          echo "âŒ Ù…Ù„Ù activity_main.xml ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯!"
        fi

    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©: ÙØ­Øµ Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª ÙˆØ§Ù„Ù…ÙƒØªØ¨Ø§Øª
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    - name: ğŸ” Dependencies and Libraries Analysis
      if: env.ENABLE_ADVANCED_DIAGNOSTICS == 'true'
      run: |
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ“š ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª ÙˆØ§Ù„Ù…ÙƒØªØ¨Ø§Øª"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        
        # ÙØ­Øµ build.gradle Ù„Ù„ØªØ¨Ø¹ÙŠØ§Øª
        if [ -f "app/build.gradle" ]; then
          echo "ğŸ“¦ Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª ÙÙŠ app/build.gradle:"
          
          # Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…ÙƒØªØ¨Ø§Øª OneUI
          echo ""
          echo "ğŸ¨ Ù…ÙƒØªØ¨Ø§Øª OneUI:"
          if grep -n "io.github.oneuiproject.sesl" app/build.gradle; then
            echo "ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…ÙƒØªØ¨Ø§Øª OneUI"
          else
            echo "Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…ÙƒØªØ¨Ø§Øª OneUI"
          fi
          
          # Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª
          echo ""
          echo "ğŸ“‹ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª:"
          sed -n '/dependencies {/,/^}/p' app/build.gradle | nl
          
          # ÙØ­Øµ compileSdk Ùˆ targetSdk
          echo ""
          echo "ğŸ¯ Ø¥ØµØ¯Ø§Ø±Ø§Øª SDK:"
          grep -E "(compileSdk|targetSdk)" app/build.gradle || echo "Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª SDK"
          
        else
          echo "âŒ app/build.gradle ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯!"
        fi
        
        # ÙØ­Øµ settings.gradle
        if [ -f "settings.gradle" ]; then
          echo ""
          echo "âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ (settings.gradle):"
          cat settings.gradle | head -10
        fi

    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø®Ø§Ù…Ø³Ø©: Ø¥Ø¹Ø¯Ø§Ø¯ Gradle Ø§Ù„Ù…ØªÙ‚Ø¯Ù… Ù…Ø¹ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    - name: âš™ï¸ Advanced Gradle Environment Setup
      run: |
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯ Ø¨ÙŠØ¦Ø© Gradle Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        
        # Ø¥Ø¹Ø¯Ø§Ø¯ Ù…ØªØºÙŠØ± GRADLE_USER_HOME
        echo "GRADLE_USER_HOME=$GITHUB_WORKSPACE/.gradle" >> $GITHUB_ENV
        echo "ğŸ“ Ù…Ø³Ø§Ø± Gradle Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ: $GITHUB_WORKSPACE/.gradle"
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù„Ø¯ .gradle Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹
        mkdir -p "$GITHUB_WORKSPACE/.gradle"
        
        # ØªÙ†Ø¸ÙŠÙ cache Ù…Ø­ØªÙ…Ù„ Ø§Ù„ØªÙ„Ù
        echo "ğŸ§¹ ØªÙ†Ø¸ÙŠÙ Gradle cache Ø§Ù„Ù…Ø­ØªÙ…Ù„ ØªÙ„ÙÙ‡:"
        rm -rf ~/.gradle/caches/jars-9 || echo "Ù„Ø§ ÙŠÙˆØ¬Ø¯ cache Ù‚Ø¯ÙŠÙ… Ù„Ù„ØªÙ†Ø¸ÙŠÙ"
        rm -rf "$GITHUB_WORKSPACE/.gradle/caches/jars-9" || echo "Ù„Ø§ ÙŠÙˆØ¬Ø¯ cache Ù…Ø­Ù„ÙŠ Ù„Ù„ØªÙ†Ø¸ÙŠÙ"
        
        # Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Java Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯
        echo ""
        echo "â˜• Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Java:"
        java -version
        echo "JAVA_HOME: $JAVA_HOME"
        
        echo "âœ… ØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ø¨ÙŠØ¦Ø© Gradle Ø¨Ù†Ø¬Ø§Ø­"

    - name: ğŸ“¥ Smart Gradle Download with Retry Logic
      run: |
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ“¥ ØªØ­Ù…ÙŠÙ„ Gradle Ø§Ù„Ø°ÙƒÙŠ Ù…Ø¹ Ù…Ù†Ø·Ù‚ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        
        gradle_url="https://services.gradle.org/distributions/gradle-$GRADLE_VERSION-bin.zip"
        gradle_zip="gradle-$GRADLE_VERSION-bin.zip"
        
        # Ø¯Ø§Ù„Ø© Ù„Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ø¹ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©
        download_gradle() {
          local attempt=1
          local max_attempts=3
          
          while [ $attempt -le $max_attempts ]; do
            echo "ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø±Ù‚Ù… $attempt Ù…Ù† $max_attempts"
            
            if wget --progress=dot:giga "$gradle_url" -O "$gradle_zip"; then
              # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù…Ø­Ù…Ù„
              if [ -f "$gradle_zip" ] && [ -s "$gradle_zip" ]; then
                echo "âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Gradle Ø¨Ù†Ø¬Ø§Ø­!"
                echo "ğŸ“Š Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù: $(ls -lh $gradle_zip | awk '{print $5}')"
                return 0
              else
                echo "âŒ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù…Ø­Ù…Ù„ ØªØ§Ù„Ù Ø£Ùˆ ÙØ§Ø±Øº"
              fi
            else
              echo "âŒ ÙØ´Ù„ ÙÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„"
            fi
            
            echo "â³ Ø§Ù†ØªØ¸Ø§Ø± 5 Ø«ÙˆØ§Ù†Ù Ù‚Ø¨Ù„ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©..."
            sleep 5
            attempt=$((attempt + 1))
          done
          
          echo "ğŸ’¥ ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Gradle Ø¨Ø¹Ø¯ $max_attempts Ù…Ø­Ø§ÙˆÙ„Ø§Øª"
          return 1
        }
        
        # ØªÙ†ÙÙŠØ° Ø§Ù„ØªØ­Ù…ÙŠÙ„
        if download_gradle; then
          echo "ğŸ‰ ØªØ­Ù…ÙŠÙ„ Gradle Ù…ÙƒØªÙ…Ù„ Ø¨Ù†Ø¬Ø§Ø­!"
        else
          echo "ğŸš¨ Ø®Ø·Ø£ Ø­Ø±Ø¬: Ù„Ø§ ÙŠÙ…ÙƒÙ† Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø¨Ù†Ø§Ø¡ Ø¨Ø¯ÙˆÙ† Gradle"
          exit 1
        fi

    - name: ğŸ“¦ Smart Gradle Extraction and Validation
      run: |
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ“¦ ÙÙƒ Ø¶ØºØ· ÙˆØªØ­Ù‚Ù‚ Ù…Ù† Gradle"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        
        gradle_zip="gradle-$GRADLE_VERSION-bin.zip"
        gradle_dir="gradle-$GRADLE_VERSION"
        
        # ÙÙƒ Ø§Ù„Ø¶ØºØ· Ù…Ø¹ Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø¯Ù…
        echo "ğŸ“‚ ÙÙƒ Ø¶ØºØ· $gradle_zip..."
        if unzip -q "$gradle_zip"; then
          echo "âœ… ØªÙ… ÙÙƒ Ø§Ù„Ø¶ØºØ· Ø¨Ù†Ø¬Ø§Ø­"
        else
          echo "âŒ ÙØ´Ù„ ÙÙŠ ÙÙƒ Ø§Ù„Ø¶ØºØ·"
          exit 1
        fi
        
        # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù…Ù„Ù gradle Ø§Ù„ØªÙ†ÙÙŠØ°ÙŠ
        if [ -f "$gradle_dir/bin/gradle" ]; then
          echo "âœ… ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Gradle Ø§Ù„ØªÙ†ÙÙŠØ°ÙŠ"
          echo "ğŸ“‹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Gradle:"
          ls -la "$gradle_dir/bin/gradle"
          
          # Ø¬Ø¹Ù„ gradle Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªÙ†ÙÙŠØ°
          chmod +x "$gradle_dir/bin/gradle"
          echo "âœ… ØªÙ… ØªÙØ¹ÙŠÙ„ ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ØªÙ†ÙÙŠØ° Ù„Ù€ Gradle"
          
          # Ø§Ø®ØªØ¨Ø§Ø± ØªØ´ØºÙŠÙ„ Gradle
          echo ""
          echo "ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± ØªØ´ØºÙŠÙ„ Gradle:"
          if ./$gradle_dir/bin/gradle --version; then
            echo "âœ… Gradle ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­!"
          else
            echo "âš ï¸ Ù…Ø´ÙƒÙ„Ø© ÙÙŠ ØªØ´ØºÙŠÙ„ GradleØŒ Ù„ÙƒÙ† Ø³Ù†ØªØ§Ø¨Ø¹..."
          fi
        else
          echo "âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ù„Ù gradle Ø§Ù„ØªÙ†ÙÙŠØ°ÙŠ"
          exit 1
        fi
        
        # ØªÙ†Ø¸ÙŠÙ Ù…Ù„Ù Ø§Ù„Ø¶ØºØ· Ù„ØªÙˆÙÙŠØ± Ù…Ø³Ø§Ø­Ø©
        echo ""
        echo "ğŸ§¹ ØªÙ†Ø¸ÙŠÙ Ù…Ù„Ù Ø§Ù„Ø¶ØºØ· Ù„ØªÙˆÙÙŠØ± Ù…Ø³Ø§Ø­Ø©:"
        rm -f "$gradle_zip"
        echo "âœ… ØªÙ… Ø­Ø°Ù Ù…Ù„Ù Ø§Ù„Ø¶ØºØ·"

    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø³Ø§Ø¯Ø³Ø©: Ø¥Ù†Ø´Ø§Ø¡ Gradle Wrapper Ù…Ø¹ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø´Ø§ÙƒÙ„
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    - name: ğŸ”§ Generate Advanced Gradle Wrapper
      run: |
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ”§ Ø¥Ù†Ø´Ø§Ø¡ Gradle Wrapper Ù…ØªÙ‚Ø¯Ù…"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        
        gradle_dir="gradle-$GRADLE_VERSION"
        
        # Ø¥Ù†Ø´Ø§Ø¡ Gradle Wrapper Ù…Ø¹ Ø®ÙŠØ§Ø±Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©
        echo "âš¡ Ø¥Ù†Ø´Ø§Ø¡ Gradle Wrapper..."
        if ./$gradle_dir/bin/gradle wrapper \
          --gradle-version $GRADLE_VERSION \
          --distribution-type all \
          --gradle-distribution-url "https://services.gradle.org/distributions/gradle-$GRADLE_VERSION-all.zip"; then
          
          echo "âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Gradle Wrapper Ø¨Ù†Ø¬Ø§Ø­!"
          
          # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…ÙÙ†Ø´Ø£Ø©
          echo ""
          echo "ğŸ” ÙØ­Øµ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…ÙÙ†Ø´Ø£Ø©:"
          
          expected_files=(
            "gradlew"
            "gradlew.bat"
            "gradle/wrapper/gradle-wrapper.jar"
            "gradle/wrapper/gradle-wrapper.properties"
          )
          
          all_good=true
          for file in "${expected_files[@]}"; do
            if [ -f "$file" ]; then
              echo "âœ… $file - Ù…ÙˆØ¬ÙˆØ¯ ($(ls -lh "$file" | awk '{print $5}'))"
            else
              echo "âŒ $file - ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯!"
              all_good=false
            fi
          done
          
          if $all_good; then
            echo "ğŸ‰ Ø¬Ù…ÙŠØ¹ Ù…Ù„ÙØ§Øª Gradle Wrapper Ù…ÙÙ†Ø´Ø£Ø© Ø¨Ù†Ø¬Ø§Ø­!"
          else
            echo "âš ï¸ Ø¨Ø¹Ø¶ Ù…Ù„ÙØ§Øª Gradle Wrapper Ù…ÙÙ‚ÙˆØ¯Ø©ØŒ Ù„ÙƒÙ† Ø³Ù†ØªØ§Ø¨Ø¹..."
          fi
          
        else
          echo "âŒ ÙØ´Ù„ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Gradle Wrapper"
          exit 1
        fi

    - name: ğŸ” Set Gradle Wrapper Permissions and Validation
      run: |
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ” Ø¶Ø¨Ø· ØµÙ„Ø§Ø­ÙŠØ§Øª ÙˆØªØ­Ù‚Ù‚ Ù…Ù† Gradle Wrapper"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        
        # Ø¶Ø¨Ø· ØµÙ„Ø§Ø­ÙŠØ§Øª gradlew
        if [ -f "gradlew" ]; then
          chmod +x gradlew
          echo "âœ… ØªÙ… Ø¶Ø¨Ø· ØµÙ„Ø§Ø­ÙŠØ§Øª gradlew"
          echo "ğŸ“‹ ØµÙ„Ø§Ø­ÙŠØ§Øª gradlew Ø§Ù„Ø­Ø§Ù„ÙŠØ©: $(ls -l gradlew | cut -d' ' -f1)"
        else
          echo "âŒ gradlew ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯!"
          exit 1
        fi
        
        # Ø§Ø®ØªØ¨Ø§Ø± Gradle Wrapper
        echo ""
        echo "ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Gradle Wrapper:"
        if ./gradlew --version; then
          echo "âœ… Gradle Wrapper ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ù…Ø«Ø§Ù„ÙŠ!"
        else
          echo "âŒ Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Gradle Wrapper"
          exit 1
        fi
        
        # Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…ÙØµÙ„Ø©
        echo ""
        echo "ğŸ“Š Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Gradle Wrapper Ø§Ù„Ù…ÙØµÙ„Ø©:"
        ./gradlew --version
        
        # ØªÙ†Ø¸ÙŠÙ Ù…Ø¬Ù„Ø¯ gradle Ø§Ù„Ù…Ø¤Ù‚Øª
        echo ""
        echo "ğŸ§¹ ØªÙ†Ø¸ÙŠÙ Ù…Ù„ÙØ§Øª Gradle Ø§Ù„Ù…Ø¤Ù‚ØªØ©:"
        rm -rf gradle-$GRADLE_VERSION
        echo "âœ… ØªÙ… Ø­Ø°Ù Ù…Ø¬Ù„Ø¯ gradle-$GRADLE_VERSION"

    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø³Ø§Ø¨Ø¹Ø©: Ø§Ù„Ø¥ØµÙ„Ø§Ø­ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ù…Ø¹Ø±ÙˆÙØ©
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    - name: ğŸ”§ Intelligent Auto-Fix for Known Issues
      run: |
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ”§ Ø§Ù„Ø¥ØµÙ„Ø§Ø­ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ù…Ø¹Ø±ÙˆÙØ©"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        
        layout_file="app/src/main/res/layout/activity_main.xml"
        backup_file="app/src/main/res/layout/activity_main.xml.backup"
        
        # Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
        if [ -f "$layout_file" ]; then
          cp "$layout_file" "$backup_file"
          echo "âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©: $backup_file"
          
          # Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† ÙˆØ¥ØµÙ„Ø§Ø­ expandedTitleEnabled
          if grep -q "expandedTitleEnabled" "$layout_file"; then
            echo ""
            echo "ğŸ¯ ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: expandedTitleEnabled"
            echo "Ø§Ù„Ø³ÙŠØ§Ù‚ Ù‚Ø¨Ù„ Ø§Ù„Ø¥ØµÙ„Ø§Ø­:"
            grep -A2 -B2 "expandedTitleEnabled" "$layout_file" | nl
            
            # Ø¥Ù†Ø´Ø§Ø¡ Ø¥ØµÙ„Ø§Ø­ Ø°ÙƒÙŠ - ØªØ¹Ù„ÙŠÙ‚ Ø§Ù„Ø³Ø·Ø± Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø­Ø°ÙÙ‡
            echo ""
            echo "ğŸ”§ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¥ØµÙ„Ø§Ø­ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ..."
            sed -i 's/.*expandedTitleEnabled.*/        <!-- FIXED: & -->/' "$layout_file"
            
            echo "âœ… ØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¥ØµÙ„Ø§Ø­!"
            echo "Ø§Ù„Ø³ÙŠØ§Ù‚ Ø¨Ø¹Ø¯ Ø§Ù„Ø¥ØµÙ„Ø§Ø­:"
            grep -A2 -B2 "FIXED.*expandedTitleEnabled" "$layout_file" | nl
            
            echo ""
            echo "ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø©: ØªÙ… ØªØ¹Ù„ÙŠÙ‚ Ø§Ù„Ø³Ø·Ø± Ø§Ù„Ù…Ø´ÙƒÙ„ Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø­Ø°ÙÙ‡ Ø­ØªÙ‰ ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø±Ø§Ø¬Ø¹ØªÙ‡ Ù„Ø§Ø­Ù‚Ø§Ù‹"
            
          else
            echo "âœ… Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ expandedTitleEnabled - Ù„Ø§ Ø­Ø§Ø¬Ø© Ù„Ù„Ø¥ØµÙ„Ø§Ø­"
          fi
          
          # Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…Ø´Ø§ÙƒÙ„ Ù…Ø­ØªÙ…Ù„Ø© Ø£Ø®Ø±Ù‰
          echo ""
          echo "ğŸ” ÙØ­Øµ Ù…Ø´Ø§ÙƒÙ„ Ù…Ø­ØªÙ…Ù„Ø© Ø£Ø®Ø±Ù‰:"
          
          # ÙØ­Øµ Ø®ØµØ§Ø¦Øµ app: ØºÙŠØ± Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©
          suspicious_attrs=(
            "expandedTitleGravity"
            "expandedTitleMargin" 
            "expandedTitleTypeface"
            "collapsedTitleEnabled"
          )
          
          issues_found=false
          for attr in "${suspicious_attrs[@]}"; do
            if grep -q "$attr" "$layout_file"; then
              echo "âš ï¸ Ø®Ø§ØµÙŠØ© Ù…Ø´ÙƒÙˆÙƒ ÙÙŠÙ‡Ø§: $attr"
              issues_found=true
            fi
          done
          
          if ! $issues_found; then
            echo "âœ… Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø´Ø§ÙƒÙ„ Ø¥Ø¶Ø§ÙÙŠØ©"
          fi
          
        else
          echo "âš ï¸ Ù…Ù„Ù activity_main.xml ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ - ØªØ®Ø·ÙŠ Ø§Ù„Ø¥ØµÙ„Ø§Ø­ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ"
        fi

    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù…Ù†Ø©: Ø¨Ù†Ø§Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ø¹ Ù…Ø±Ø§Ù‚Ø¨Ø© Ù…ØªÙ‚Ø¯Ù…Ø©
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    - name: ğŸ—ï¸ Advanced Build with Comprehensive Monitoring
      env:
        JITPACK_TOKEN: ${{ secrets.JITPACK_TOKEN }}
      run: |
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸ—ï¸ Ø¨Ù†Ø§Ø¡ Ù…ØªÙ‚Ø¯Ù… Ù…Ø¹ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø´Ø§Ù…Ù„Ø©"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        
        # Ø¥Ø¹Ø¯Ø§Ø¯ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨Ù†Ø§Ø¡ Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡
        export GRADLE_OPTS="-Dorg.gradle.daemon=false -Dorg.gradle.parallel=true -Dorg.gradle.configureondemand=true"
        export JAVA_OPTS="-Xmx4g -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError"
        
        echo "âš™ï¸ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø© Ù„Ù„Ø¨Ù†Ø§Ø¡:"
        echo "GRADLE_OPTS: $GRADLE_OPTS"
        echo "JAVA_OPTS: $JAVA_OPTS"
        echo ""
        
        # Ø¨Ø¯Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¨Ù†Ø§Ø¡ Ù…Ø¹ ØªØ³Ø¬ÙŠÙ„ Ù…ÙØµÙ„
        echo "ğŸš€ Ø¨Ø¯Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¨Ù†Ø§Ø¡..."
        echo "Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ: $(date)"
        
        build_start_time=$(date +%s)
        
        # ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨Ù†Ø§Ø¡ Ù…Ø¹ Ø®ÙŠØ§Ø±Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø© ÙˆØ­ÙØ¸ Ø§Ù„Ø³Ø¬Ù„
        if ./gradlew assembleDebug \
          --stacktrace \
          --info \
          --warning-mode all \
          --build-cache \
          --gradle-user-home="$GRADLE_USER_HOME" \
          2>&1 | tee detailed_build.log; then
          
          build_end_time=$(date +%s)
          build_duration=$((build_end_time - build_start_time))
          
          echo ""
          echo "ğŸ‰ Ø§Ù„Ø¨Ù†Ø§Ø¡ Ù…ÙƒØªÙ…Ù„ Ø¨Ù†Ø¬Ø§Ø­!"
          echo "â±ï¸ Ù…Ø¯Ø© Ø§Ù„Ø¨Ù†Ø§Ø¡: ${build_duration} Ø«Ø§Ù†ÙŠØ©"
          echo "ğŸ“… ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡: $(date)"
          
          # ÙØ­Øµ ÙˆØ¬ÙˆØ¯ Ù…Ù„Ù APK
          apk_path="app/build/outputs/apk/debug/app-debug.apk"
          if [ -f "$apk_path" ]; then
            apk_size=$(ls -lh "$apk_path" | awk '{print $5}')
            echo "ğŸ“± APK ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡ Ø¨Ù†Ø¬Ø§Ø­!"
            echo "ğŸ“Š Ø­Ø¬Ù… APK: $apk_size"
            echo "ğŸ“ Ù…Ø³Ø§Ø± APK: $apk_path"
          else
            echo "âš ï¸ ØªØ­Ø°ÙŠØ±: APK ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù…ØªÙˆÙ‚Ø¹"
            echo "ğŸ” Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…Ù„ÙØ§Øª APK..."
            find . -name "*.apk" -type f 2>/dev/null || echo "Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ù„ÙØ§Øª APK"
          fi
          
        else
          echo "âŒ ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø¨Ù†Ø§Ø¡!"
          echo "Ø³ÙŠØªÙ… ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„ØªØ§Ù„ÙŠØ©..."
          exit 1
        fi

    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ§Ø³Ø¹Ø©: ØªØ­Ù„ÙŠÙ„ Ù…ÙØµÙ„ Ù„Ù„Ø£Ø®Ø·Ø§Ø¡ (ÙÙŠ Ø­Ø§Ù„Ø© ÙØ´Ù„ Ø§Ù„Ø¨Ù†Ø§Ø¡)
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    - name: ğŸš¨ Advanced Build Failure Analysis
      if: failure()
      run: |
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo "ğŸš¨ ØªØ­Ù„ÙŠÙ„ Ù…ØªÙ‚Ø¯Ù… Ù„ÙØ´Ù„ Ø§Ù„Ø¨Ù†Ø§Ø¡"
        echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        
        if [ -f "detailed_build.log" ]; then
          echo "ğŸ“‹ Ø¢Ø®Ø± 100 Ø³Ø·Ø± Ù…Ù† Ø³Ø¬Ù„ Ø§Ù„Ø¨Ù†Ø§Ø¡:"
          echo "----------------------------------------"
          tail -100 detailed_build.log
          echo "----------------------------------------"
          echo ""
          
          echo "ğŸ” ØªØ­Ù„ÙŠÙ„ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡:"
          
          # Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø£Ø®Ø·Ø§Ø¡ AAPT
          echo ""
          echo "ğŸ¨ Ø£Ø®Ø·Ø§Ø¡ AAPT (Android Asset Packaging Tool):"
          if grep -i "aapt.*error" detailed_build.log; then
            echo "ØªÙØ§ØµÙŠÙ„ Ø£Ø®Ø·Ø§Ø¡ AAPT:"
            grep -A 5 -B 5 -i "aapt.*error" detailed_build.log
          else
            echo "âœ… Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£Ø®Ø·Ø§Ø¡ AAPT"
          fi
          
          # Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø®ØµØ§Ø¦Øµ
          echo ""
          echo "ğŸ·ï¸ Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø®ØµØ§Ø¦Øµ (Attribute Errors):"
          if grep -i "attribute.*not found" detailed_build.log; then
            echo "ØªÙØ§ØµÙŠÙ„ Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø®ØµØ§Ø¦Øµ:"
            grep -A 3 -B 3
